import{_ as t,c as a,o as e,ag as n}from"./chunks/framework.Ccw6EMdJ.js";const c=JSON.parse('{"title":"Benchmarks","description":"","frontmatter":{},"headers":[],"relativePath":"server/benchmarks.md","filePath":"server/benchmarks.md"}'),r={name:"server/benchmarks.md"};function i(h,s,d,l,o,p){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="benchmarks" tabindex="-1">Benchmarks <a class="header-anchor" href="#benchmarks" aria-label="Permalink to &quot;Benchmarks&quot;">​</a></h1><p>Queen MQ performance benchmarks.</p><h2 id="test-environment" tabindex="-1">Test Environment <a class="header-anchor" href="#test-environment" aria-label="Permalink to &quot;Test Environment&quot;">​</a></h2><ul><li><strong>Hardware</strong>: Apple M4 Air</li><li><strong>Server</strong>: 4 workers, 95 DB connections</li><li><strong>Database</strong>: PostgreSQL in Docker</li></ul><h2 id="results" tabindex="-1">Results <a class="header-anchor" href="#results" aria-label="Permalink to &quot;Results&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Test</th><th>Mode</th><th>Messages</th><th>Batch</th><th>Throughput</th><th>Bandwidth</th></tr></thead><tbody><tr><td>T4</td><td>Producer</td><td>10,000</td><td>1,000</td><td>85,862 msg/s</td><td>24.57 MB/s</td></tr><tr><td>T4</td><td>Consumer</td><td>10,000</td><td>1,000</td><td><strong>488,650 msg/s</strong></td><td><strong>247.87 MB/s</strong></td></tr><tr><td>T5</td><td>Producer</td><td>100,000</td><td>1,000</td><td><strong>90,601 msg/s</strong></td><td><strong>25.92 MB/s</strong></td></tr><tr><td>T5</td><td>Consumer</td><td>100,000</td><td>1,000</td><td>84,530 msg/s</td><td>42.96 MB/s</td></tr></tbody></table><h2 id="key-observations" tabindex="-1">Key Observations <a class="header-anchor" href="#key-observations" aria-label="Permalink to &quot;Key Observations&quot;">​</a></h2><ul><li>✅ Batch size matters: 1,000x better than batch=1</li><li>✅ Consumer peak: 488K msg/s</li><li>✅ Producer peak: 90K msg/s</li><li>✅ Scales with message volume</li></ul><h2 id="run-your-own" tabindex="-1">Run Your Own <a class="header-anchor" href="#run-your-own" aria-label="Permalink to &quot;Run Your Own&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> benchmark</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./bin/benchmark</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> producer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --threads</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --count</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --batch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./bin/benchmark</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> consumer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --threads</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --batch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="https://github.com/smartpricing/queen/tree/master/benchmark" target="_blank" rel="noreferrer">Complete benchmarks</a></p>`,11)])])}const m=t(r,[["render",i]]);export{c as __pageData,m as default};
