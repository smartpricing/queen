import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.-kPtTt-D.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"Queen MQ","text":"Modern PostgreSQL-backed Message Queue","tagline":"High-performance, feature-rich message queue system with unlimited FIFO partitions, consumer groups, and transactions","image":{"src":"/queen_logo.png","alt":"Queen MQ Logo"},"actions":[{"theme":"brand","text":"Get Started","link":"/guide/quickstart"},{"theme":"alt","text":"View on GitHub","link":"https://github.com/smartpricing/queen"},{"theme":"alt","text":"Docker Hub","link":"https://hub.docker.com/r/smartnessai/queen-mq"}]},"features":[{"title":"High Performance","details":"Handle 200K+ messages/sec with proper batching. Built with C++17, uWebSockets, and async PostgreSQL for minimal latency.","link":"/server/benchmarks"},{"title":"Unlimited FIFO Partitions","details":"Create as many ordered partitions as you need. Messages in each partition are guaranteed to be processed in order with automatic lock management.","link":"/guide/queues-partitions"},{"title":"Consumer Groups","details":"Kafka-style consumer groups with independent position tracking. Process the same messages for different purposes with replay from any timestamp.","link":"/guide/consumer-groups"},{"title":"Transactions","details":"Atomic operations across queues with exactly-once delivery guarantees. Chain push and ack operations to build reliable workflows.","link":"/guide/transactions"},{"title":"Long Polling","details":"Efficient server-side waiting for messages. No busy loops, no wasted resources. Messages delivered instantly when available.","link":"/guide/long-polling"},{"title":"Zero Message Loss","details":"Automatic failover to disk when PostgreSQL is unavailable. Automatic replay when database recovers. Survives crashes and restarts.","link":"/guide/failover"},{"title":"Dead Letter Queue","details":"Automatic handling of failed messages. Configurable retry limits and DLQ routing. Debug and replay failed messages easily.","link":"/guide/dlq"},{"title":"Message Encryption","details":"Optional at-rest encryption at the database level. Secure your sensitive messages with per-queue encryption configuration.","link":"/guide/queues-partitions"},{"title":"Beautiful Dashboard","details":"Modern Vue 3 web interface with real-time metrics, message browser, trace explorer, and analytics. Monitor everything in one place.","link":"/webapp/overview"},{"title":"Message Tracing","details":"End-to-end tracing across queues and workflows. Debug complex distributed systems with visual trace timelines.","link":"/guide/tracing"},{"title":"Multi-Language Clients","details":"JavaScript, Python, and C++ clients with idiomatic APIs. Or use the HTTP API directly from any language.","link":"/clients/javascript"},{"title":"Distributed Cache (UDPSYNC)","details":"Multi-server deployments share state via UDP sync to reduce database queries by 80-90%. Real-time peer notifications for instant message delivery.","link":"/server/deployment#distributed-cache-udpsync"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),t={name:"index.md"};function l(r,s,p,h,k,d){return e(),a("div",null,[...s[0]||(s[0]=[n(`<h2 id="ğŸ“š-documentation" tabindex="-1">ğŸ“š Documentation <a class="header-anchor" href="#ğŸ“š-documentation" aria-label="Permalink to &quot;ğŸ“š Documentation&quot;">â€‹</a></h2><div class="doc-links"><a href="./guide/quickstart" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">ğŸš€</span> Quick Start </div><div>Get started in minutes</div></a><a href="./clients/javascript" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">ğŸ’»</span> Client Libraries </div><div>JavaScript, Python, C++, and HTTP API</div></a><a href="./server/installation" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">âš™ï¸</span> Server Setup </div><div>Install and configure</div></a><a href="./server/deployment" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">â˜¸ï¸</span> Deployment </div><div>Docker, K8s, systemd</div></a><a href="./webapp/overview" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">ğŸ“Š</span> Web Dashboard </div><div>Monitor and manage</div></a><a href="./guide/comparison" class="doc-link"><div class="doc-link-title"><span class="doc-link-icon">âš–ï¸</span> Comparison </div><div>vs Kafka, RabbitMQ, NATS</div></a></div><h2 id="why-we-built-queen-mq" tabindex="-1">Why We Built Queen MQ <a class="header-anchor" href="#why-we-built-queen-mq" aria-label="Permalink to &quot;Why We Built Queen MQ&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ğŸ¨ Born from Real Production Needs</p><p>Queen was created at <a href="https://www.linkedin.com/company/smartness-com/" target="_blank" rel="noreferrer">Smartness</a> to power <a href="https://www.smartness.com/en/guest-messaging" target="_blank" rel="noreferrer"><strong>Smartchat</strong></a> - an AI-powered guest messaging platform for the hospitality industry.</p></div><h3 id="the-context" tabindex="-1">The Context <a class="header-anchor" href="#the-context" aria-label="Permalink to &quot;The Context&quot;">â€‹</a></h3><p>At Smartness, we use Kafka extensively across our infrastructure and know it well. For Smartchat&#39;s message backbone, we initially chose Kafka for its strong reliability guarantees.</p><p>However, we encountered a use case mismatch: <strong>in Kafka, a single message processing delay affects the entire partition</strong>. For most workloads this isn&#39;t an issue, but our system involves:</p><ul><li><strong>AI translations</strong> - Can take seconds/minutes</li><li><strong>Agent responses</strong> - Can take seconds/minutes</li><li><strong>Variable processing times</strong> - Inherent to the domain</li></ul><p>With potentially 100,000+ concurrent chats, we would need a Kafka partition for each chat conversation - which isn&#39;t practical at that scale.</p><h3 id="from-custom-tables-to-queen" tabindex="-1">From Custom Tables to Queen <a class="header-anchor" href="#from-custom-tables-to-queen" aria-label="Permalink to &quot;From Custom Tables to Queen&quot;">â€‹</a></h3><p>We started moving long-running operations to custom PostgreSQL queue tables. As we built out the system, we needed:</p><ul><li><strong>Consumer groups</strong> - For different processing pipelines</li><li><strong>Window buffering</strong> - To aggregate messages before AI processing</li><li><strong>Retry limits</strong> - For better error visibility</li><li><strong>Message tracing</strong> - For debugging distributed workflows</li></ul><p>We realized we had built a complete message queue system that better fit our specific requirements.</p><h3 id="the-result" tabindex="-1">The Result <a class="header-anchor" href="#the-result" aria-label="Permalink to &quot;The Result&quot;">â€‹</a></h3><p>Queen now handles Smartchat&#39;s message infrastructure:</p><ul><li><strong>One partition per chat</strong> - Slow processing in one chat doesn&#39;t affect others</li><li><strong>Unlimited partitions</strong> - Scale to any number of concurrent conversations</li><li><strong>Window buffering</strong> - Aggregate messages to optimize API calls</li><li><strong>Built-in observability</strong> - Retry mechanisms and tracing for debugging</li><li><strong>PostgreSQL-backed</strong> - ACID guarantees with automatic failover</li></ul><p>Queen processes 100,000+ messages daily in production.</p><div class="info custom-block"><p class="custom-block-title">Technical Note</p><p>If you&#39;re building systems where message processing has inherently variable latency (chat systems, AI pipelines, human-in-the-loop workflows), Queen&#39;s partition model may be a better fit than traditional streaming platforms.</p></div><h2 id="quick-example" tabindex="-1">Quick Example <a class="header-anchor" href="#quick-example" aria-label="Permalink to &quot;Quick Example&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Queen } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;queen-mq&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Connect</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> queen</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Queen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://localhost:6632&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create queue with configuration</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queen.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">queue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;orders&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ leaseTime: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, retryLimit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Push messages with guaranteed order per partition</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queen.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">queue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;orders&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">partition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customer-123&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([{ data: { orderId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ORD-001&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, amount: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">99.99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } }])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Consume with consumer groups for scalability</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queen.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">queue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;orders&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;order-processor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">concurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">batch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autoAck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">each</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">consume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> processOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message.data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onSuccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queen.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { group: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;order-processor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queen.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(message, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { group: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;order-processor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="performance-metrics" tabindex="-1">Performance Metrics <a class="header-anchor" href="#performance-metrics" aria-label="Permalink to &quot;Performance Metrics&quot;">â€‹</a></h2><div class="custom-stats"><div class="custom-stat"><div class="custom-stat-value">200K+</div><div class="custom-stat-label">Messages/Second</div></div><div class="custom-stat"><div class="custom-stat-value">10-50ms</div><div class="custom-stat-label">Latency</div></div><div class="custom-stat"><div class="custom-stat-value">Unlimited</div><div class="custom-stat-label">Partitions</div></div><div class="custom-stat"><div class="custom-stat-value">Zero</div><div class="custom-stat-label">Message Loss</div></div></div><h2 id="key-features-comparison" tabindex="-1">Key Features Comparison <a class="header-anchor" href="#key-features-comparison" aria-label="Permalink to &quot;Key Features Comparison&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>Feature</th><th>Queen</th><th>RabbitMQ</th><th>Kafka</th><th>Redis Streams</th></tr></thead><tbody><tr><td>FIFO Partitions</td><td>âœ… Unlimited</td><td>âŒ</td><td>âœ… Limited</td><td>âœ… Limited</td></tr><tr><td>Consumer Groups</td><td>âœ…</td><td>âš ï¸ Manual</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Transactions</td><td>âœ… Atomic</td><td>âš ï¸ Complex</td><td>âš ï¸ Limited</td><td>âŒ</td></tr><tr><td>Long Polling</td><td>âœ… Built-in</td><td>âœ…</td><td>âŒ</td><td>âœ…</td></tr><tr><td>Dead Letter Queue</td><td>âœ… Automatic</td><td>âœ…</td><td>âš ï¸ Manual</td><td>âŒ</td></tr><tr><td>Message Replay</td><td>âœ… Timestamp</td><td>âŒ</td><td>âœ…</td><td>âœ…</td></tr><tr><td>Persistence</td><td>âœ… PostgreSQL</td><td>âœ… Disk</td><td>âœ… Disk</td><td>âš ï¸ Memory</td></tr><tr><td>Distributed Cache</td><td>âœ… UDPSYNC</td><td>âŒ</td><td>âœ… ZooKeeper</td><td>âŒ</td></tr><tr><td>Web Dashboard</td><td>âœ… Modern</td><td>âš ï¸ Basic</td><td>âš ï¸ External</td><td>âŒ</td></tr></tbody></table><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">â€‹</a></h2><h3 id="ğŸ¢-enterprise-workflows" tabindex="-1">ğŸ¢ Enterprise Workflows <a class="header-anchor" href="#ğŸ¢-enterprise-workflows" aria-label="Permalink to &quot;ğŸ¢ Enterprise Workflows&quot;">â€‹</a></h3><p>Build reliable multi-step workflows with transactions and exactly-once delivery. Perfect for financial systems, order processing, and data pipelines.</p><h3 id="ğŸ“Š-real-time-analytics" tabindex="-1">ğŸ“Š Real-time Analytics <a class="header-anchor" href="#ğŸ“Š-real-time-analytics" aria-label="Permalink to &quot;ğŸ“Š Real-time Analytics&quot;">â€‹</a></h3><p>Send messages to multiple consumer groups for different analytics purposes. Replay historical data from any timestamp.</p><h3 id="ğŸ”„-event-driven-architecture" tabindex="-1">ğŸ”„ Event-Driven Architecture <a class="header-anchor" href="#ğŸ”„-event-driven-architecture" aria-label="Permalink to &quot;ğŸ”„ Event-Driven Architecture&quot;">â€‹</a></h3><p>Decouple microservices with guaranteed message delivery. Built-in tracing helps debug distributed systems.</p><h3 id="ğŸ’¼-task-queues" tabindex="-1">ğŸ’¼ Task Queues <a class="header-anchor" href="#ğŸ’¼-task-queues" aria-label="Permalink to &quot;ğŸ’¼ Task Queues&quot;">â€‹</a></h3><p>Distribute work across multiple workers with automatic load balancing. Long-running tasks supported with lease renewal.</p><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">â€‹</a></h2><p>Queen uses a high-performance <strong>acceptor/worker pattern</strong> with fully asynchronous, non-blocking PostgreSQL architecture:</p><ul><li><strong>Network Layer</strong>: uWebSockets with configurable workers (default: 10)</li><li><strong>Database Layer</strong>: Async connection pool (142 non-blocking connections)</li><li><strong>Failover Layer</strong>: Automatic disk buffering when PostgreSQL unavailable</li><li><strong>Distributed Cache</strong>: UDP-based state sync between servers (UDPSYNC)</li><li><strong>Background Services</strong>: Poll workers, metrics, retention, eviction</li></ul><p><a href="/queen/server/architecture.html">Learn more about the architecture â†’</a></p><h2 id="built-by-developers-for-developers" tabindex="-1">Built by Developers, for Developers <a class="header-anchor" href="#built-by-developers-for-developers" aria-label="Permalink to &quot;Built by Developers, for Developers&quot;">â€‹</a></h2><p>Queen was created by <a href="https://www.linkedin.com/company/smartness-com/" target="_blank" rel="noreferrer">Smartness</a> to power their hospitality platform. It&#39;s built with modern C++17, uses PostgreSQL for ACID guarantees, and includes a beautiful Vue.js dashboard.</p><div class="tip custom-block"><p class="custom-block-title">ğŸ‰ Production Ready</p><p>Queen is currently running in production, handling millions of messages daily. Version 0.11.4 is stable and ready for your projects.</p></div><h2 id="get-started-in-minutes" tabindex="-1">Get Started in Minutes <a class="header-anchor" href="#get-started-in-minutes" aria-label="Permalink to &quot;Get Started in Minutes&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Start PostgreSQL and Queen server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queen</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POSTGRES_PASSWORD=postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5432:5432</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> postgres</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 6632:6632</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --network</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PG_HOST=postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PG_PASSWORD=postgres</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NUM_WORKERS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DB_POOL_SIZE=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SIDECAR_POOL_SIZE=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SIDECAR_MICRO_BATCH_WAIT_MS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POP_WAIT_INITIAL_INTERVAL_MS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POP_WAIT_BACKOFF_THRESHOLD=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POP_WAIT_BACKOFF_MULTIPLIER=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POP_WAIT_MAX_INTERVAL_MS=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DEFAULT_SUBSCRIPTION_MODE=new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LOG_LEVEL=info</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  smartnessai/queen-mq:0.11.4</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Install JavaScript client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queen-mq</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or install Python client</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> queen-mq</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Start building!</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><a href="/queen/guide/quickstart.html">Full Quick Start Guide â†’</a></p><h2 id="community-support" tabindex="-1">Community &amp; Support <a class="header-anchor" href="#community-support" aria-label="Permalink to &quot;Community &amp; Support&quot;">â€‹</a></h2><ul><li><strong>GitHub</strong>: <a href="https://github.com/smartpricing/queen" target="_blank" rel="noreferrer">github.com/smartpricing/queen</a></li><li><strong>LinkedIn</strong>: <a href="https://www.linkedin.com/company/smartness-com/" target="_blank" rel="noreferrer">Smartness Company Page</a></li><li><strong>Docker Hub</strong>: <a href="https://hub.docker.com/r/smartnessai/queen-mq" target="_blank" rel="noreferrer">smartnessai/queen-mq</a></li></ul><h2 id="license" tabindex="-1">License <a class="header-anchor" href="#license" aria-label="Permalink to &quot;License&quot;">â€‹</a></h2><p>Queen MQ is released under the <a href="https://github.com/smartpricing/queen/blob/master/LICENSE.md" target="_blank" rel="noreferrer">Apache 2.0 License</a>.</p>`,47)])])}const u=i(t,[["render",l]]);export{c as __pageData,u as default};
