import{_ as a,c as t,o as s,ag as i}from"./chunks/framework.-kPtTt-D.js";const p=JSON.parse('{"title":"Introduction to Queen MQ","description":"","frontmatter":{},"headers":[],"relativePath":"guide/introduction.md","filePath":"guide/introduction.md"}'),r={name:"guide/introduction.md"};function n(o,e,l,d,u,h){return s(),t("div",null,[...e[0]||(e[0]=[i(`<h1 id="introduction-to-queen-mq" tabindex="-1">Introduction to Queen MQ <a class="header-anchor" href="#introduction-to-queen-mq" aria-label="Permalink to &quot;Introduction to Queen MQ&quot;">â€‹</a></h1><p>Queen MQ is a modern, PostgreSQL-backed message queue system designed for high performance, reliability, and developer happiness. Born from the need to manage many FIFO partitions for <a href="https://www.linkedin.com/company/smartness-com/" target="_blank" rel="noreferrer">Smartchat</a> with solid guarantees around delivery and failure handling.</p><h2 id="what-is-queen-mq" tabindex="-1">What is Queen MQ? <a class="header-anchor" href="#what-is-queen-mq" aria-label="Permalink to &quot;What is Queen MQ?&quot;">â€‹</a></h2><p>Queen is a message queue system written in C++ that leverages PostgreSQL&#39;s reliability and ACID guarantees. It combines the best features from existing message queue systems like RabbitMQ, Kafka, and NATS into a unified, powerful platform.</p><div class="info custom-block"><p class="custom-block-title">Why &quot;Queen&quot;?</p><p>Years ago, when the creator first read the word &quot;queue&quot;, they read it as &quot;queen&quot; in their mind. The name stuck!</p></div><h2 id="key-features" tabindex="-1">Key Features <a class="header-anchor" href="#key-features" aria-label="Permalink to &quot;Key Features&quot;">â€‹</a></h2><h3 id="ğŸ¯-unlimited-fifo-partitions" tabindex="-1">ğŸ¯ Unlimited FIFO Partitions <a class="header-anchor" href="#ğŸ¯-unlimited-fifo-partitions" aria-label="Permalink to &quot;ğŸ¯ Unlimited FIFO Partitions&quot;">â€‹</a></h3><p>Create as many ordered partitions as you need within each queue. Messages in the same partition are guaranteed to be processed in order, with automatic lock management to ensure only one consumer processes a partition at a time.</p><h3 id="ğŸ‘¥-consumer-groups" tabindex="-1">ğŸ‘¥ Consumer Groups <a class="header-anchor" href="#ğŸ‘¥-consumer-groups" aria-label="Permalink to &quot;ğŸ‘¥ Consumer Groups&quot;">â€‹</a></h3><p>Kafka-style consumer groups allow multiple groups to process the same messages independently. Each group tracks its own position and can start from the beginning, from a specific timestamp, or only process new messages.</p><h3 id="ğŸ”„-transactions" tabindex="-1">ğŸ”„ Transactions <a class="header-anchor" href="#ğŸ”„-transactions" aria-label="Permalink to &quot;ğŸ”„ Transactions&quot;">â€‹</a></h3><p>Atomic operations across queues with exactly-once delivery guarantees. Chain push and ack operations together to build reliable workflows that never lose or duplicate messages.</p><h3 id="ğŸ“¡-streaming" tabindex="-1">ğŸ“¡ Streaming <a class="header-anchor" href="#ğŸ“¡-streaming" aria-label="Permalink to &quot;ğŸ“¡ Streaming&quot;">â€‹</a></h3><p>Real-time message streaming. Build aggregation pipelines and process messages as they arrive with partitioned streams and filtering capabilities.</p><h3 id="â±ï¸-long-polling" tabindex="-1">â±ï¸ Long Polling <a class="header-anchor" href="#â±ï¸-long-polling" aria-label="Permalink to &quot;â±ï¸ Long Polling&quot;">â€‹</a></h3><p>Efficient server-side waiting for messages. No busy loops, no wasted resources. Messages are delivered instantly when they become available.</p><h3 id="ğŸ›¡ï¸-zero-message-loss" tabindex="-1">ğŸ›¡ï¸ Zero Message Loss <a class="header-anchor" href="#ğŸ›¡ï¸-zero-message-loss" aria-label="Permalink to &quot;ğŸ›¡ï¸ Zero Message Loss&quot;">â€‹</a></h3><p>Automatic failover to disk when PostgreSQL is unavailable. Messages are buffered locally and automatically replayed when the database recovers. Survives crashes and restarts.</p><h3 id="ğŸ’€-dead-letter-queue" tabindex="-1">ğŸ’€ Dead Letter Queue <a class="header-anchor" href="#ğŸ’€-dead-letter-queue" aria-label="Permalink to &quot;ğŸ’€ Dead Letter Queue&quot;">â€‹</a></h3><p>Automatic handling of failed messages. Configure retry limits and have messages automatically routed to the dead letter queue for debugging and manual intervention.</p><h2 id="architecture-highlights" tabindex="-1">Architecture Highlights <a class="header-anchor" href="#architecture-highlights" aria-label="Permalink to &quot;Architecture Highlights&quot;">â€‹</a></h2><ul><li><strong>High Performance</strong>: Handle 200K+ messages/second with proper batching</li><li><strong>C++17</strong>: Modern C++ with uWebSockets for high-performance networking</li><li><strong>Async PostgreSQL</strong>: Fully asynchronous, non-blocking database operations</li><li><strong>Horizontal Scaling</strong>: Multiple server instances with automatic load distribution</li><li><strong>Modern Dashboard</strong>: Beautiful Vue 3 web interface for monitoring and management</li></ul><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">â€‹</a></h2><h3 id="enterprise-workflows" tabindex="-1">Enterprise Workflows <a class="header-anchor" href="#enterprise-workflows" aria-label="Permalink to &quot;Enterprise Workflows&quot;">â€‹</a></h3><p>Build multi-step workflows with transactional guarantees:</p><ul><li>Order processing pipelines</li><li>Financial transaction systems</li><li>Data transformation pipelines</li><li>Multi-stage approval processes</li></ul><h3 id="real-time-analytics" tabindex="-1">Real-time Analytics <a class="header-anchor" href="#real-time-analytics" aria-label="Permalink to &quot;Real-time Analytics&quot;">â€‹</a></h3><p>Stream messages to multiple consumer groups for different purposes:</p><ul><li>Real-time metrics aggregation</li><li>Business intelligence dashboards</li><li>Log aggregation and analysis</li><li>Event monitoring</li></ul><h3 id="event-driven-architecture" tabindex="-1">Event-Driven Architecture <a class="header-anchor" href="#event-driven-architecture" aria-label="Permalink to &quot;Event-Driven Architecture&quot;">â€‹</a></h3><p>Decouple microservices with guaranteed message delivery:</p><ul><li>Service-to-service communication</li><li>Event sourcing</li><li>CQRS patterns</li><li>Saga orchestration</li></ul><h3 id="task-queues" tabindex="-1">Task Queues <a class="header-anchor" href="#task-queues" aria-label="Permalink to &quot;Task Queues&quot;">â€‹</a></h3><p>Distribute work across multiple workers:</p><ul><li>Background job processing</li><li>Video transcoding</li><li>Report generation</li><li>Email delivery</li></ul><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">â€‹</a></h2><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    A[Producer] --&gt;|Push| B[Queue]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|Partition 1| C[Consumer Group 1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|Partition 2| D[Consumer Group 1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|Partition 1| E[Consumer Group 2]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    B --&gt;|Partition 2| F[Consumer Group 2]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    C --&gt;|Process| G[Ack/Nack]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    D --&gt;|Process| G</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    E --&gt;|Process| H[Ack/Nack]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    F --&gt;|Process| H</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    G --&gt;|Retry Exhausted| I[Dead Letter Queue]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    H --&gt;|Retry Exhausted| I</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="design-principles" tabindex="-1">Design Principles <a class="header-anchor" href="#design-principles" aria-label="Permalink to &quot;Design Principles&quot;">â€‹</a></h2><ol><li><strong>Developer First</strong>: Simple, intuitive APIs that make complex workflows easy</li><li><strong>Performance</strong>: Built for speed with async I/O and minimal overhead</li><li><strong>Reliability</strong>: ACID guarantees, automatic failover, zero message loss</li><li><strong>Flexibility</strong>: Support multiple messaging patterns (queue, pub/sub, streaming)</li><li><strong>Observability</strong>: Built-in tracing, metrics, and beautiful dashboard</li></ol><h2 id="comparison-with-other-systems" tabindex="-1">Comparison with Other Systems <a class="header-anchor" href="#comparison-with-other-systems" aria-label="Permalink to &quot;Comparison with Other Systems&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>Aspect</th><th>Queen</th><th>RabbitMQ</th><th>Kafka</th><th>NATS</th></tr></thead><tbody><tr><td><strong>Storage</strong></td><td>PostgreSQL</td><td>Disk</td><td>Disk</td><td>Memory/File</td></tr><tr><td><strong>Partitions</strong></td><td>Unlimited</td><td>N/A</td><td>Limited</td><td>N/A</td></tr><tr><td><strong>Consumer Groups</strong></td><td>âœ… Native</td><td>âš ï¸ Pattern</td><td>âœ… Native</td><td>âœ… Queue Groups</td></tr><tr><td><strong>Transactions</strong></td><td>âœ… Atomic</td><td>âš ï¸ Complex</td><td>âš ï¸ Producer</td><td>âŒ</td></tr><tr><td><strong>Replay</strong></td><td>âœ… Timestamp</td><td>âŒ</td><td>âœ… Offset</td><td>âš ï¸ Limited</td></tr><tr><td><strong>Dashboard</strong></td><td>âœ… Modern</td><td>âš ï¸ Basic</td><td>âš ï¸ External</td><td>âš ï¸ External</td></tr><tr><td><strong>Setup</strong></td><td>Docker</td><td>Complex</td><td>Complex</td><td>Simple</td></tr></tbody></table><h2 id="performance-metrics" tabindex="-1">Performance Metrics <a class="header-anchor" href="#performance-metrics" aria-label="Permalink to &quot;Performance Metrics&quot;">â€‹</a></h2><p>Based on benchmarks with Apple M4 Air (all components on same machine):</p><ul><li><strong>Producer Peak</strong>: 90K+ messages/second</li><li><strong>Consumer Peak</strong>: 488K+ messages/second (with batch size 1000)</li><li><strong>Latency</strong>: 10-50ms for POP/ACK operations</li><li><strong>Throughput</strong>: Scales linearly with batch size</li></ul><p>See the <a href="/queen/server/benchmarks.html">Benchmarks</a> page for detailed performance data.</p><h2 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">â€‹</a></h2><p>Ready to dive in? Check out the <a href="/queen/guide/quickstart.html">Quick Start Guide</a> to get Queen MQ running in minutes.</p><p>Or explore specific topics:</p><ul><li><a href="/queen/guide/concepts.html">Basic Concepts</a> - Understand queues, partitions, and consumer groups</li><li><a href="/queen/clients/javascript.html">JavaScript Client</a> - Start building with the JS client</li><li><a href="/queen/server/installation.html">Server Setup</a> - Install and configure the server</li><li><a href="/queen/clients/examples/basic.html">Examples</a> - See real-world usage patterns</li></ul><h2 id="community" tabindex="-1">Community <a class="header-anchor" href="#community" aria-label="Permalink to &quot;Community&quot;">â€‹</a></h2><p>Queen MQ is built and maintained by <a href="https://www.linkedin.com/company/smartness-com/" target="_blank" rel="noreferrer">Smartness</a>, powering their hospitality platform with millions of messages daily.</p><ul><li><strong>GitHub</strong>: <a href="https://github.com/smartpricing/queen" target="_blank" rel="noreferrer">github.com/smartpricing/queen</a></li><li><strong>Docker Hub</strong>: <a href="https://hub.docker.com/r/smartnessai/queen-mq" target="_blank" rel="noreferrer">smartnessai/queen-mq</a></li><li><strong>License</strong>: Apache 2.0</li></ul><p>Join us in building the next generation of message queue systems!</p>`,53)])])}const m=a(r,[["render",n]]);export{p as __pageData,m as default};
