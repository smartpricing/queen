import{g as d,c as J,k as rt,G as it,w as dt,a as i,d as c,b as t,e as ut,t as n,A as _,B as A,C as Q,F as D,i as $,H as ct,u as F,n as H,j as z,T as vt,v as pt,I as L,o as r}from"./index-Bh6pUXf_.js";import{f as mt,a as Y}from"./useApi-CMkbhU7m.js";import{u as xt}from"./useRefresh-DGHeVgd7.js";const gt={class:"space-y-4 sm:space-y-6 animate-fade-in"},ht={key:0,class:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-700/30 rounded-lg p-3"},bt={class:"flex items-center gap-2 text-sm"},kt={class:"text-purple-700 dark:text-purple-300"},ft={class:"card p-3 sm:p-4"},yt={class:"flex flex-col gap-3 sm:gap-4"},wt={class:"grid grid-cols-2 sm:flex sm:flex-wrap sm:items-end gap-2 sm:gap-4"},_t={class:"col-span-2 sm:flex-1 sm:min-w-[200px] sm:max-w-sm"},Ct={class:"relative"},Mt={class:"col-span-2 sm:w-48"},St=["value"],qt={class:"sm:w-40"},It={class:"sm:w-40"},Tt={class:"grid grid-cols-2 sm:flex sm:flex-wrap sm:items-end gap-2 sm:gap-4"},Dt={class:"col-span-1 sm:flex-1 sm:min-w-[180px] sm:max-w-xs"},Lt={class:"col-span-1 sm:flex-1 sm:min-w-[180px] sm:max-w-xs"},jt={class:"col-span-2 flex flex-wrap gap-2"},Bt={class:"card"},$t={class:"card-header flex items-center justify-between"},Pt={class:"flex items-center gap-3"},Vt={class:"badge badge-queen"},At={class:"text-sm text-light-500"},Qt={class:"overflow-x-auto"},Ft={class:"table"},Ht=["onClick"],zt={class:"text-sm font-medium text-light-900 dark:text-light-100"},Nt={class:"text-xs text-light-500 dark:text-light-400 lg:hidden mt-0.5"},Et={class:"hidden xl:table-cell"},Gt={class:"text-xs text-light-600 dark:text-light-400 font-mono select-all break-all"},Ut={class:"hidden lg:table-cell"},Rt={class:"text-xs text-light-600 dark:text-light-400"},Ot={class:"text-xs font-mono select-all break-all text-light-900 dark:text-light-100"},Jt={class:"text-right text-xs text-light-600 dark:text-light-400 tabular-nums whitespace-nowrap"},Yt={class:"text-right"},Kt={class:"flex flex-col items-end gap-1"},Wt={key:0,class:"text-xs text-light-600 dark:text-light-400"},Xt={key:2},Zt={class:"px-5 py-4 border-t border-light-200 dark:border-dark-50 flex items-center justify-between"},te={class:"text-sm text-light-600 dark:text-light-400"},ee={class:"flex gap-2"},se=["disabled"],le=["disabled"],ae={key:0,class:"fixed inset-0 sm:left-auto w-full sm:max-w-2xl bg-light-50 dark:bg-dark-400 shadow-2xl z-50 overflow-y-auto border-l border-light-200 dark:border-dark-50"},oe={class:"p-4 sm:p-6"},ne={class:"flex items-start justify-between mb-5 pb-4 border-b border-light-200 dark:border-dark-50"},re={class:"flex-1 min-w-0"},ie={class:"text-xs font-mono text-light-500 break-all"},de={key:0,class:"text-center py-12"},ue={key:1,class:"text-sm text-rose-600 dark:text-rose-400"},ce={class:"mb-6"},ve={class:"mb-5"},pe={class:"space-y-4"},me={class:"text-sm font-medium text-light-900 dark:text-light-100"},xe={class:"text-xs font-mono text-light-700 dark:text-light-300 break-all"},ge={class:"text-xs font-mono text-light-700 dark:text-light-300 break-all"},he={class:"text-sm text-light-700 dark:text-light-300"},be={key:0},ke={class:"text-xs font-mono break-all text-light-700 dark:text-light-300"},fe={key:1},ye={class:"text-sm text-rose-600 dark:text-rose-400"},we={key:2},_e={class:"text-sm text-light-700 dark:text-light-300"},Ce={key:0,class:"mb-6"},Me={class:"bg-light-100 dark:bg-dark-300 rounded-lg p-4 grid grid-cols-2 gap-3 text-sm"},Se={class:"font-medium ml-1"},qe={class:"font-medium ml-1"},Ie={class:"font-medium ml-1"},Te={class:"font-medium ml-1"},De={class:"mb-6"},Le={class:"flex items-center justify-between mb-3"},je={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be={key:1,class:"w-4 h-4 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$e={class:"bg-dark-400 dark:bg-dark-500 rounded-lg p-4 overflow-x-auto"},Pe=["innerHTML"],Ve={key:1,class:"mb-6"},Ae={class:"space-y-2"},Qe={class:"text-sm font-medium"},Fe={class:"space-y-2 pt-2"},He={key:0,class:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/30 rounded-lg p-3 text-emerald-800 dark:text-emerald-200 text-sm"},ze=["disabled"],Ne=["disabled"],Ee=["disabled"],Ge={key:2,class:"text-sm text-rose-600 dark:text-rose-400 mt-4"},Ye={__name:"Messages",setup(Ue){const y=it(),C=d([]),N=d([]),j=d(null),P=d(!0),w=d(""),x=d(""),g=d(""),M=d(""),S=d(""),q=d(100),v=d(1),h=d(null),a=d(null),V=d(!1),B=d(null),p=d(!1),b=d(null),I=d(!1),E=J(()=>{let l=[...C.value];if(w.value){const e=w.value.toLowerCase();l=l.filter(o=>{var s,k;return((s=o.transactionId)==null?void 0:s.toLowerCase().includes(e))||((k=o.partitionId)==null?void 0:k.toLowerCase().includes(e))})}return l}),K=J(()=>w.value||x.value||g.value),G=l=>{const e=l.getFullYear(),o=String(l.getMonth()+1).padStart(2,"0"),s=String(l.getDate()).padStart(2,"0"),k=String(l.getHours()).padStart(2,"0"),u=String(l.getMinutes()).padStart(2,"0");return`${e}-${o}-${s}T${k}:${u}`},U=l=>l?new Date(l).toISOString():"",T=l=>{const e=new Date,o=new Date(e.getTime()-l*60*60*1e3);M.value=G(o),S.value=G(e)},W=()=>{w.value="",x.value="",g.value="",T(1),R()},m=async()=>{var l,e;C.value.length||(P.value=!0);try{const o={limit:q.value,offset:(v.value-1)*q.value};x.value&&(o.queue=x.value),g.value&&(o.status=g.value),M.value&&(o.from=U(M.value)),S.value&&(o.to=U(S.value));const s=await L.list(o);C.value=((l=s.data)==null?void 0:l.messages)||[],j.value=((e=s.data)==null?void 0:e.mode)||null}catch(o){console.error("Failed to fetch messages:",o)}finally{P.value=!1}},X=async()=>{var l;try{const e=await pt.list();N.value=((l=e.data)==null?void 0:l.queues)||[]}catch(e){console.error("Failed to fetch queues:",e)}},R=()=>{v.value=1,m()},Z=()=>{v.value>1&&(v.value--,m())},tt=()=>{v.value++,m()},et=async l=>{var e,o;h.value=l,V.value=!0,B.value=null,a.value=null,I.value=!1;try{const s=await L.get(l.partitionId,l.transactionId);a.value=s.data}catch(s){B.value=((o=(e=s.response)==null?void 0:e.data)==null?void 0:o.error)||s.message}finally{V.value=!1}},st=async()=>{var l,e;if(a.value){p.value=!0,b.value=null;try{await L.retry(a.value.partitionId,a.value.transactionId),h.value=null,m()}catch(o){b.value=((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.error)||o.message}finally{p.value=!1}}},lt=async()=>{var l,e;if(a.value){p.value=!0,b.value=null;try{await L.moveToDLQ(a.value.partitionId,a.value.transactionId),h.value=null,m()}catch(o){b.value=((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.error)||o.message}finally{p.value=!1}}},at=async()=>{var l,e;if(a.value&&confirm("Are you sure you want to delete this message? This action cannot be undone.")){p.value=!0,b.value=null;try{await L.delete(a.value.partitionId,a.value.transactionId),h.value=null,m()}catch(o){b.value=((e=(l=o.response)==null?void 0:l.data)==null?void 0:e.error)||o.message}finally{p.value=!1}}},O=l=>{if(!l)return"null";if(typeof l=="string")try{return JSON.stringify(JSON.parse(l),null,2)}catch{return l}return JSON.stringify(l,null,2)},ot=l=>{const e=O(l);let o="",s=0;const k=u=>u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(;s<e.length;){const u=e[s];if(u==='"'){let f='"';for(s++;s<e.length&&e[s]!=='"';)e[s]==="\\"&&s+1<e.length?(f+=e[s]+e[s+1],s+=2):(f+=e[s],s++);f+='"',s++,o+=`<span class="text-emerald-400">${k(f)}</span>`}else if(u==="-"||u>="0"&&u<="9"){let f="";for(;s<e.length&&/[\d.eE+\-]/.test(e[s]);)f+=e[s],s++;o+=`<span class="text-amber-400">${f}</span>`}else e.slice(s,s+4)==="true"?(o+='<span class="text-purple-400">true</span>',s+=4):e.slice(s,s+5)==="false"?(o+='<span class="text-purple-400">false</span>',s+=5):e.slice(s,s+4)==="null"?(o+='<span class="text-purple-400">null</span>',s+=4):u==="{"||u==="}"||u==="["||u==="]"?(o+=`<span class="text-light-500">${u}</span>`,s++):u===":"?(o+='<span class="text-light-400">:</span>',s++):(o+=k(u),s++)}return o},nt=async()=>{var l;if((l=a.value)!=null&&l.payload)try{const e=O(a.value.payload);await navigator.clipboard.writeText(e),I.value=!0,setTimeout(()=>{I.value=!1},2e3)}catch(e){console.error("Failed to copy:",e)}};return xt(m),rt(()=>{y.query.queue&&(x.value=y.query.queue),y.query.status&&(g.value=y.query.status),!y.query.from&&!y.query.to&&T(1),X(),m()}),dt([x,g],()=>{v.value=1,m()}),(l,e)=>{var o;return r(),i("div",gt,[j.value&&j.value.type==="bus"?(r(),i("div",ht,[t("div",bt,[e[11]||(e[11]=t("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e[12]||(e[12]=t("span",{class:"font-medium text-purple-900 dark:text-purple-100"},"Bus Mode Active",-1)),t("span",kt,n(j.value.busGroupsCount)+" consumer group(s)",1)])])):c("",!0),t("div",ft,[t("div",yt,[t("div",wt,[t("div",_t,[e[14]||(e[14]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," Search ",-1)),t("div",Ct,[_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>w.value=s),type:"text",placeholder:"Search by transaction ID...",class:"input pl-10"},null,512),[[A,w.value]]),e[13]||(e[13]=t("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-light-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1))])]),t("div",Mt,[e[16]||(e[16]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," Queue ",-1)),_(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>x.value=s),class:"select"},[e[15]||(e[15]=t("option",{value:""},"All Queues",-1)),(r(!0),i(D,null,$(N.value,s=>(r(),i("option",{key:s.name,value:s.name},n(s.name),9,St))),128))],512),[[Q,x.value]])]),t("div",qt,[e[18]||(e[18]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," Status ",-1)),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),class:"select"},[...e[17]||(e[17]=[ct('<option value="">All Status</option><option value="pending">Pending</option><option value="processing">Processing</option><option value="completed">Completed</option><option value="dead_letter">Dead Letter</option>',5)])],512),[[Q,g.value]])]),t("div",It,[e[20]||(e[20]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," Limit ",-1)),_(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>q.value=s),class:"select"},[...e[19]||(e[19]=[t("option",{value:50},"50 messages",-1),t("option",{value:100},"100 messages",-1),t("option",{value:200},"200 messages",-1),t("option",{value:500},"500 messages",-1)])],512),[[Q,q.value]])])]),t("div",Tt,[t("div",Dt,[e[21]||(e[21]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," From ",-1)),_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>M.value=s),type:"datetime-local",class:"input text-sm"},null,512),[[A,M.value]])]),t("div",Lt,[e[22]||(e[22]=t("label",{class:"block text-xs font-medium text-light-600 dark:text-light-400 mb-1.5"}," To ",-1)),_(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>S.value=s),type:"datetime-local",class:"input text-sm"},null,512),[[A,S.value]])]),t("div",jt,[t("button",{onClick:e[6]||(e[6]=s=>T(1)),class:"btn btn-secondary text-xs sm:text-sm flex-1 sm:flex-none"},"1h"),t("button",{onClick:e[7]||(e[7]=s=>T(24)),class:"btn btn-secondary text-xs sm:text-sm flex-1 sm:flex-none"},"24h"),t("button",{onClick:e[8]||(e[8]=s=>T(168)),class:"btn btn-secondary text-xs sm:text-sm flex-1 sm:flex-none"},"7d"),t("button",{onClick:R,class:"btn btn-cyber text-xs sm:text-sm flex-1 sm:flex-none"}," Apply "),K.value?(r(),i("button",{key:0,onClick:W,class:"btn btn-secondary text-xs sm:text-sm"}," Clear ")):c("",!0)])])])]),t("div",Bt,[t("div",$t,[t("div",Pt,[e[23]||(e[23]=t("h3",{class:"font-semibold text-light-900 dark:text-white"},"Messages",-1)),t("span",Vt,n(F(mt)(C.value.length))+" loaded",1)]),t("div",At," Page "+n(v.value),1)]),t("div",Qt,[t("table",Ft,[e[26]||(e[26]=t("thead",null,[t("tr",null,[t("th",null,"Queue"),t("th",{class:"hidden xl:table-cell"},"Partition ID"),t("th",{class:"hidden lg:table-cell"},"Partition"),t("th",null,"Transaction ID"),t("th",{class:"text-right"},"Created"),t("th",{class:"text-right"},"Status")])],-1)),t("tbody",null,[P.value?(r(),i(D,{key:0},$(10,s=>t("tr",{key:s},[...e[24]||(e[24]=[t("td",null,[t("div",{class:"skeleton h-4 w-24"})],-1),t("td",{class:"hidden xl:table-cell"},[t("div",{class:"skeleton h-4 w-32"})],-1),t("td",{class:"hidden lg:table-cell"},[t("div",{class:"skeleton h-4 w-12"})],-1),t("td",null,[t("div",{class:"skeleton h-4 w-40"})],-1),t("td",null,[t("div",{class:"skeleton h-4 w-28"})],-1),t("td",null,[t("div",{class:"skeleton h-4 w-20"})],-1)])])),64)):E.value.length>0?(r(!0),i(D,{key:1},$(E.value,s=>(r(),i("tr",{key:s.id,class:"group cursor-pointer hover:bg-queen-50 dark:hover:bg-queen-500/10",onClick:k=>et(s)},[t("td",null,[t("div",zt,n(s.queue),1),t("div",Nt,n(s.partition),1)]),t("td",Et,[t("div",Gt,n(s.partitionId),1)]),t("td",Ut,[t("span",Rt,n(s.partition),1)]),t("td",null,[t("div",Ot,n(s.transactionId),1)]),t("td",Jt,n(F(Y)(s.createdAt)),1),t("td",Yt,[t("div",Kt,[t("span",{class:H(["badge",{"badge-cyber":s.status==="pending","badge-crown":s.status==="processing","badge-success":s.status==="completed","badge-danger":s.status==="dead_letter"||s.status==="failed"}])},n(s.status),3),s.busStatus&&s.busStatus.totalGroups>0?(r(),i("div",Wt,n(s.busStatus.consumedBy)+"/"+n(s.busStatus.totalGroups)+" groups ",1)):c("",!0)])])],8,Ht))),128)):(r(),i("tr",Xt,[...e[25]||(e[25]=[t("td",{colspan:"6",class:"text-center py-12"},[t("svg",{class:"w-12 h-12 mx-auto text-light-400 dark:text-light-600 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})]),t("p",{class:"text-light-600 dark:text-light-400"},"No messages found")],-1)])]))])])]),t("div",Zt,[t("div",te," Page "+n(v.value),1),t("div",ee,[t("button",{onClick:Z,disabled:v.value===1,class:"btn btn-secondary px-3 py-1.5"},[...e[27]||(e[27]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,se),t("button",{onClick:tt,disabled:C.value.length<q.value,class:"btn btn-secondary px-3 py-1.5"},[...e[28]||(e[28]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,le)])])]),(r(),ut(vt,{to:"body"},[h.value?(r(),i("div",ae,[t("div",oe,[t("div",ne,[t("div",re,[e[29]||(e[29]=t("h3",{class:"text-base font-bold mb-1 text-light-900 dark:text-white"},"Message Details",-1)),t("p",ie,n((o=a.value)==null?void 0:o.transactionId),1)]),t("button",{onClick:e[9]||(e[9]=s=>h.value=null),class:"text-light-400 hover:text-light-600 dark:hover:text-light-300 p-1.5 rounded-lg hover:bg-light-100 dark:hover:bg-dark-300 transition-colors"},[...e[30]||(e[30]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),V.value?(r(),i("div",de,[...e[31]||(e[31]=[t("div",{class:"w-8 h-8 border-2 border-queen-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"},null,-1),t("p",{class:"text-light-500"},"Loading details...",-1)])])):B.value?(r(),i("div",ue,n(B.value),1)):a.value?(r(),i(D,{key:2},[t("div",ce,[t("div",ve,[t("span",{class:H(["badge text-sm",{"badge-cyber":a.value.status==="pending","badge-crown":a.value.status==="processing","badge-success":a.value.status==="completed","badge-danger":a.value.status==="dead_letter"||a.value.status==="failed"}])},n(a.value.status),3)]),t("div",pe,[t("div",null,[e[32]||(e[32]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Queue / Partition",-1)),t("p",me,n(a.value.queue)+" / "+n(a.value.partition),1)]),t("div",null,[e[33]||(e[33]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Partition ID",-1)),t("p",xe,n(a.value.partitionId),1)]),t("div",null,[e[34]||(e[34]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Transaction ID",-1)),t("p",ge,n(a.value.transactionId),1)]),t("div",null,[e[35]||(e[35]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Created",-1)),t("p",he,n(F(Y)(a.value.createdAt)),1)]),a.value.traceId?(r(),i("div",be,[e[36]||(e[36]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Trace ID",-1)),t("p",ke,n(a.value.traceId),1)])):c("",!0),a.value.errorMessage?(r(),i("div",fe,[e[37]||(e[37]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Error Message",-1)),t("p",ye,n(a.value.errorMessage),1)])):c("",!0),a.value.retryCount?(r(),i("div",we,[e[38]||(e[38]=t("label",{class:"text-xs font-medium text-light-500 block mb-1.5 uppercase tracking-wide"},"Retry Count",-1)),t("p",_e,n(a.value.retryCount),1)])):c("",!0)])]),a.value.queueConfig?(r(),i("div",Ce,[e[43]||(e[43]=t("h4",{class:"text-sm font-semibold mb-3 text-light-900 dark:text-white"},"Queue Config",-1)),t("div",Me,[t("div",null,[e[39]||(e[39]=t("span",{class:"text-light-500"},"Lease Time:",-1)),t("span",Se,n(a.value.queueConfig.leaseTime)+"s",1)]),t("div",null,[e[40]||(e[40]=t("span",{class:"text-light-500"},"TTL:",-1)),t("span",qe,n(a.value.queueConfig.ttl)+"s",1)]),t("div",null,[e[41]||(e[41]=t("span",{class:"text-light-500"},"Retry Limit:",-1)),t("span",Ie,n(a.value.queueConfig.retryLimit),1)]),t("div",null,[e[42]||(e[42]=t("span",{class:"text-light-500"},"Retry Delay:",-1)),t("span",Te,n(a.value.queueConfig.retryDelay)+"ms",1)])])])):c("",!0),t("div",De,[t("div",Le,[e[46]||(e[46]=t("h4",{class:"text-sm font-semibold text-light-900 dark:text-white"},"Payload",-1)),t("button",{onClick:nt,class:"flex items-center gap-1.5 text-xs text-light-500 hover:text-queen-600 dark:hover:text-queen-400 transition-colors"},[I.value?(r(),i("svg",Be,[...e[45]||(e[45]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(r(),i("svg",je,[...e[44]||(e[44]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])])),z(" "+n(I.value?"Copied!":"Copy"),1)])]),t("div",$e,[t("pre",{class:"text-sm font-mono whitespace-pre-wrap",innerHTML:ot(a.value.payload)},null,8,Pe)])]),a.value.consumerGroups&&a.value.consumerGroups.length>0?(r(),i("div",Ve,[e[47]||(e[47]=t("h4",{class:"text-sm font-semibold mb-3 text-light-900 dark:text-white"},"Consumer Groups",-1)),t("div",Ae,[(r(!0),i(D,null,$(a.value.consumerGroups,s=>(r(),i("div",{key:s.name,class:"flex items-center justify-between p-3 bg-light-100 dark:bg-dark-300 rounded-lg"},[t("span",Qe,n(s.name==="__QUEUE_MODE__"?"Queue Mode":s.name),1),t("span",{class:H(["badge",s.consumed?"badge-success":"badge-cyber"])},n(s.consumed?"Consumed":"Pending"),3)]))),128))])])):c("",!0),t("div",Fe,[a.value.status==="completed"?(r(),i("div",He,[...e[48]||(e[48]=[t("div",{class:"flex gap-2"},[t("svg",{class:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),t("p",null,"This message has been successfully consumed and acknowledged.")],-1)])])):c("",!0),a.value.status==="dead_letter"?(r(),i("button",{key:1,onClick:st,disabled:p.value,class:"btn btn-primary w-full"},[...e[49]||(e[49]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),z(" Retry Message ",-1)])],8,ze)):c("",!0),a.value.status==="pending"?(r(),i("button",{key:2,onClick:lt,disabled:p.value,class:"btn btn-secondary w-full"}," Move to Dead Letter Queue ",8,Ne)):c("",!0),t("button",{onClick:at,disabled:p.value,class:"btn bg-rose-600 text-white hover:bg-rose-700 w-full"},[...e[50]||(e[50]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),z(" Delete Message ",-1)])],8,Ee)]),b.value?(r(),i("div",Ge,n(b.value),1)):c("",!0)],64)):c("",!0)])])):c("",!0),h.value?(r(),i("div",{key:1,class:"fixed inset-0 bg-dark-500/50 backdrop-blur-sm z-40",onClick:e[10]||(e[10]=s=>h.value=null)})):c("",!0)]))])}}};export{Ye as default};
